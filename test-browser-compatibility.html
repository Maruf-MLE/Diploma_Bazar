<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browser Compatibility Test - ‡¶¨‡¶á ‡¶ö‡¶æ‡¶™‡¶æ ‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .test-item { margin: 15px 0; padding: 10px; border-left: 4px solid #ddd; }
        .pass { border-color: #4CAF50; background: #f1f8e9; }
        .fail { border-color: #f44336; background: #ffebee; }
        .warning { border-color: #ff9800; background: #fff8e1; }
        .btn { background: #2196F3; color: white; border: none; padding: 10px 20px; margin: 5px; cursor: pointer; border-radius: 5px; }
        .btn:hover { background: #1976D2; }
        .result { margin-top: 10px; padding: 10px; background: #f9f9f9; border-radius: 5px; }
        .code-block { background: #263238; color: #fff; padding: 15px; border-radius: 5px; font-family: 'Courier New', monospace; margin: 10px 0; overflow-x: auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Browser Compatibility Test</h1>
        <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡¶á-‡¶ö‡¶æ‡¶™‡¶æ-‡¶¨‡¶æ‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶§‡¶ü‡¶æ ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡ßá‡¶ü‡¶æ check ‡¶ï‡¶∞‡ßÅ‡¶®:</p>
        
        <button class="btn" onclick="runAllTests()">üß™ ‡¶∏‡¶¨ Tests ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®</button>
        <button class="btn" onclick="simulateOldBrowser()">üì± ‡¶™‡ßÅ‡¶∞‡¶æ‡¶®‡ßã Browser Simulate ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <button class="btn" onclick="resetSimulation()">üîÑ Reset ‡¶ï‡¶∞‡ßÅ‡¶®</button>

        <div id="testResults"></div>

        <h2>üìã Manual Testing Guide</h2>
        
        <h3>1. Chrome DevTools ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá:</h3>
        <div class="code-block">
// Console ‡¶è ‡¶è‡¶á code ‡¶ó‡ßÅ‡¶≤‡ßã type ‡¶ï‡¶∞‡ßÅ‡¶®:

// Notification API disable ‡¶ï‡¶∞‡ßÅ‡¶®
delete window.Notification;
console.log('Notification API disabled');

// Service Worker disable ‡¶ï‡¶∞‡ßÅ‡¶®
delete navigator.serviceWorker;
console.log('Service Worker disabled');

// Push Manager disable ‡¶ï‡¶∞‡ßÅ‡¶®
if (navigator.serviceWorker) {
    delete navigator.serviceWorker.pushManager;
}

// ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ page reload ‡¶ï‡¶∞‡ßÅ‡¶®
location.reload();
        </div>

        <h3>2. Firefox Testing:</h3>
        <div class="code-block">
// about:config ‡¶è ‡¶Ø‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶è‡¶á settings ‡¶ó‡ßÅ‡¶≤‡ßã false ‡¶ï‡¶∞‡ßÅ‡¶®:
// - dom.webnotifications.enabled = false
// - dom.serviceWorkers.enabled = false
// - dom.push.enabled = false
        </div>

        <h3>3. Different Browser Testing:</h3>
        <div class="result">
            <strong>IE Mode (Edge):</strong> Edge browser ‡¶è IE mode enable ‡¶ï‡¶∞‡ßÅ‡¶®<br>
            <strong>Old Chrome:</strong> Browserling.com ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®<br>
            <strong>Mobile Testing:</strong> Chrome DevTools ‡¶è‡¶∞ device emulation ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
        </div>

        <h3>4. Real Device Testing:</h3>
        <div class="result">
            <ul>
                <li>Android 4.1-4.4 (Old Chrome/WebView)</li>
                <li>iOS Safari 10-15</li>
                <li>Samsung Internet 4-6</li>
                <li>UC Browser</li>
                <li>Opera Mini</li>
            </ul>
        </div>
    </div>

    <script>
        function checkFeatureSupport() {
            const results = [];
            
            // Check Notification API
            const hasNotification = 'Notification' in window && typeof Notification !== 'undefined';
            results.push({
                name: 'Notification API',
                supported: hasNotification,
                message: hasNotification ? 'Web Notifications ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá' : 'Web Notifications ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ'
            });

            // Check Service Worker
            const hasServiceWorker = 'serviceWorker' in navigator;
            results.push({
                name: 'Service Worker',
                supported: hasServiceWorker,
                message: hasServiceWorker ? 'Service Worker ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá' : 'Service Worker ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ'
            });

            // Check Push Manager
            const hasPushManager = hasServiceWorker && 'PushManager' in window;
            results.push({
                name: 'Push Manager',
                supported: hasPushManager,
                message: hasPushManager ? 'Push Notifications ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá' : 'Push Notifications ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ'
            });

            // Check Fetch API
            const hasFetch = 'fetch' in window;
            results.push({
                name: 'Fetch API',
                supported: hasFetch,
                message: hasFetch ? 'Modern HTTP requests ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá' : 'XMLHttpRequest fallback ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡¶¨‡ßá'
            });

            // Check ES6 Features
            let hasES6 = false;
            try {
                eval('const test = () => {}; hasES6 = true;');
            } catch(e) {
                hasES6 = false;
            }
            results.push({
                name: 'ES6 Support',
                supported: hasES6,
                message: hasES6 ? 'Modern JavaScript ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá' : 'ES5 fallback ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®'
            });

            // Check WebSocket
            const hasWebSocket = 'WebSocket' in window;
            results.push({
                name: 'WebSocket',
                supported: hasWebSocket,
                message: hasWebSocket ? 'Real-time updates ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá' : 'Polling fallback ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡¶¨‡ßá'
            });

            // Check CSS Grid
            const hasGrid = CSS.supports('display', 'grid');
            results.push({
                name: 'CSS Grid',
                supported: hasGrid,
                message: hasGrid ? 'Modern layouts ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá' : 'Flexbox fallback ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡¶¨‡ßá'
            });

            return results;
        }

        function displayResults(results) {
            const container = document.getElementById('testResults');
            let html = '<h2>üß™ Test Results:</h2>';

            let passCount = 0;
            let totalCount = results.length;

            results.forEach(result => {
                const cssClass = result.supported ? 'pass' : 'fail';
                const icon = result.supported ? '‚úÖ' : '‚ùå';
                if (result.supported) passCount++;

                html += `
                    <div class="test-item ${cssClass}">
                        <strong>${icon} ${result.name}</strong><br>
                        ${result.message}
                    </div>
                `;
            });

            const compatibility = Math.round((passCount / totalCount) * 100);
            let compatibilityClass = 'pass';
            if (compatibility < 70) compatibilityClass = 'fail';
            else if (compatibility < 90) compatibilityClass = 'warning';

            html += `
                <div class="test-item ${compatibilityClass}">
                    <strong>üìä Overall Compatibility: ${compatibility}%</strong><br>
                    ${compatibility >= 90 ? '‡¶∏‡¶¨ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá' : 
                      compatibility >= 70 ? '‡¶¨‡ßá‡¶∂‡¶ø‡¶∞‡¶≠‡¶æ‡¶ó ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá, ‡¶ï‡¶ø‡¶õ‡ßÅ fallback ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡¶¨‡ßá' : 
                      'Limited functionality, ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá'}
                </div>
            `;

            container.innerHTML = html;
        }

        function runAllTests() {
            const results = checkFeatureSupport();
            displayResults(results);
        }

        function simulateOldBrowser() {
            // Temporarily disable modern APIs
            if (window.Notification) {
                window._originalNotification = window.Notification;
                delete window.Notification;
            }
            
            if (navigator.serviceWorker) {
                navigator._originalServiceWorker = navigator.serviceWorker;
                delete navigator.serviceWorker;
            }

            if (window.fetch) {
                window._originalFetch = window.fetch;
                delete window.fetch;
            }

            alert('‡¶™‡ßÅ‡¶∞‡¶æ‡¶®‡ßã browser mode activated! ‡¶è‡¶ñ‡¶® test ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
            runAllTests();
        }

        function resetSimulation() {
            // Restore original APIs
            if (window._originalNotification) {
                window.Notification = window._originalNotification;
                delete window._originalNotification;
            }
            
            if (navigator._originalServiceWorker) {
                navigator.serviceWorker = navigator._originalServiceWorker;
                delete navigator._originalServiceWorker;
            }

            if (window._originalFetch) {
                window.fetch = window._originalFetch;
                delete window._originalFetch;
            }

            alert('Browser features restored!');
            runAllTests();
        }

        // Auto-run tests on page load
        window.onload = function() {
            runAllTests();
            
            // Display browser info
            const info = `
                Browser: ${navigator.userAgent}
                Platform: ${navigator.platform}
                Language: ${navigator.language}
                Cookies: ${navigator.cookieEnabled ? 'Enabled' : 'Disabled'}
                Online: ${navigator.onLine ? 'Yes' : 'No'}
            `;
            
            console.log('Browser Information:', info);
        };
    </script>
</body>
</html>
