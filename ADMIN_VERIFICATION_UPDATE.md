# অ্যাডমিন অনুমোদন আবশ্যক ভেরিফিকেশন সিস্টেম

এই আপডেটে আমরা ভেরিফিকেশন সিস্টেম পরিবর্তন করেছি যাতে ব্যবহারকারীরা ডকুমেন্ট আপলোড করার পরে স্বয়ংক্রিয়ভাবে ভেরিফাইড না হয়ে অ্যাডমিন অনুমোদন আবশ্যক হয়।

## পরিবর্তিত ফাইলসমূহ

1. `src/pages/VerificationPage.tsx` - ভেরিফিকেশন পেজ আপডেট করা হয়েছে যাতে আপলোডের সময় অটোমেটিক ভেরিফাইড না হয়
2. `is_user_verified_function.sql` - SQL ফাংশন আপডেট করা হয়েছে যা ব্যবহারকারীর ভেরিফিকেশন স্ট্যাটাস চেক করে
3. `supabase/migrations/20250830000000_update_verification_admin_approval.sql` - নতুন মাইগ্রেশন ফাইল যা is_user_verified ফাংশন আপডেট করে
4. `run_admin_verification_update.js` - মাইগ্রেশন চালানোর জন্য স্ক্রিপ্ট

## পরিবর্তনের সারাংশ

1. ব্যবহারকারী যখন ডকুমেন্ট আপলোড করবে, তখন তাদের is_verified = false এবং status = 'pending' সেট করা হবে
2. UI আপডেট করা হয়েছে যাতে ব্যবহারকারীরা বুঝতে পারে যে তাদের অনুমোদন পেতে অপেক্ষা করতে হবে
3. is_user_verified ফাংশন আপডেট করা হয়েছে যাতে শুধুমাত্র is_verified = true ব্যবহারকারীদের ভেরিফাইড হিসেবে চিহ্নিত করে
4. পূর্বে ভেরিফাইড ব্যবহারকারীরা এখন পেন্ডিং স্ট্যাটাসে সেট করা হবে

## অ্যাডমিন প্যানেল ব্যবহার

অ্যাডমিন প্যানেল ইতিমধ্যে ব্যবহারকারীদের ভেরিফাইড করার ফাংশনালিটি সহ আছে:

1. অ্যাডমিন প্যানেলে `/admin/verification` URL এ যান
2. পেন্ডিং ভেরিফিকেশন রিকোয়েস্টসমূহ দেখুন
3. ডিটেইলস পেজে গিয়ে ভেরিফিকেশন অনুমোদন বা বাতিল করুন

## মাইগ্রেশন চালানোর নির্দেশনা

মাইগ্রেশন চালানোর জন্য নিম্নলিখিত কমান্ড ব্যবহার করুন:

```bash
# প্রথমে Supabase সার্ভিস কী এক্সপোর্ট করুন
export SUPABASE_SERVICE_KEY=your-supabase-service-key

# তারপর মাইগ্রেশন স্ক্রিপ্ট চালান
node run_admin_verification_update.js
```

## বিদ্যমান ব্যবহারকারীদের জন্য

- যে সকল ব্যবহারকারী ইতিমধ্যে ভেরিফাইড হয়েছেন, তাদেরকে পুনরায় ভেরিফাইড করতে হবে (মাইগ্রেশন স্ক্রিপ্ট সকল is_verified স্ট্যাটাস পেন্ডিং করে দেবে)
- অ্যাডমিনদেরকে সকল পেন্ডিং ভেরিফিকেশন পর্যালোচনা এবং অনুমোদন করতে হবে 