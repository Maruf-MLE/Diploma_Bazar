# বই-চাপা-বাজার নতুন রেজিস্ট্রেশন সিস্টেম সেটআপ নির্দেশিকা

এই ফাইলটি আপনাকে নতুন রেজিস্ট্রেশন সিস্টেম সেটআপ করতে সাহায্য করবে। এই সিস্টেমে ইউজারের ডাটা দুই জায়গায় সেভ হবে:
1. ইমেইল ও পাসওয়ার্ড Supabase এর Authentication সিস্টেমে যাবে
2. নাম, রোল, সেমিস্টার, বিভাগ, প্রতিষ্ঠানের নাম `profiles` টেবিলে সেভ হবে
3. কোনো ইমেইল ভেরিফিকেশন ছাড়াই রেজিস্ট্রেশন সম্পন্ন হবে

## ১. ডাটাবেজে নতুন টেবিল তৈরি করুন

Supabase ড্যাশবোর্ডে যান এবং SQL এডিটর খুলুন। তারপর নিম্নলিখিত SQL কোড রান করুন:

```sql
-- create_profiles_table.sql ফাইলটি রান করুন
```

## ২. ইমেইল ভেরিফিকেশন বন্ধ করুন

Supabase ড্যাশবোর্ডে যান এবং SQL এডিটর খুলুন। তারপর নিম্নলিখিত SQL কোড রান করুন:

```sql
-- disable_email_verification_all.sql ফাইলটি রান করুন
```

## ৩. Supabase Authentication সেটিংস আপডেট করুন

Supabase ড্যাশবোর্ডে যান, Authentication > Settings মেনুতে যান এবং নিম্নলিখিত সেটিংস আপডেট করুন:

1. "Email Confirmation" সেটিং অফ করুন
2. "Site URL" ফিল্ডে "http://localhost:8082" লিখুন (বা আপনার সাইটের URL)
3. "Redirect URLs" ফিল্ডে "http://localhost:8082/auth-callback" যোগ করুন

## ৪. আপনার ডেভেলপমেন্ট সার্ভার শুরু করুন

নতুন সিস্টেম সেটআপ সম্পন্ন হয়েছে। এখন আপনি ডেভেলপমেন্ট সার্ভার শুরু করতে পারেন:

```bash
npm run dev
```

## ৫. সিস্টেম পরীক্ষা করুন

ব্রাউজারে http://localhost:8082/register ঠিকানায় যান এবং নতুন ইউজার তৈরি করে সিস্টেম পরীক্ষা করুন।

## সিস্টেম কীভাবে কাজ করে

1. ইউজার যখন রেজিস্ট্রেশন ফর্ম পূরণ করে:
   - AuthContext এর signUp ফাংশন কল হয়
   - ইউজারের ইমেইল ও পাসওয়ার্ড দিয়ে Supabase Auth এ সাইন-আপ করে
   - প্রোফাইল ডাটা profiles টেবিলে ইনসার্ট করে
   - স্বয়ংক্রিয়ভাবে ইউজারকে লগইন করে

2. ডাটাবেসে কোনো ইমেইল ভেরিফিকেশন লাগে না:
   - auto_confirm_email ফাংশন স্বয়ংক্রিয়ভাবে সমস্ত নতুন ইউজারের ইমেইল কনফার্ম করে দেয়
   - ইমেইল ভেরিফিকেশন বন্ধ থাকে 